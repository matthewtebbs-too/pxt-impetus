importScripts("/pxt-Impetus/pxtworker.js");var pm=postMessage;"undefined"==typeof btoa&&(ts.pxtc.encodeBase64=function(r){function e(r){return r<=25?r+65:r<=51?r+71:r<=61?r-4:62==r?43:47}for(var t=new Array,o=0,n=0,a=0;a<r.length;a++){var i=r.charCodeAt(a);if(255<i)return;0==o?(t.push(String.fromCharCode(e(i>>2))),o=1,n=(3&i)<<4):1==o?(t.push(String.fromCharCode(e(n|i>>4))),n=(15&i)<<(o=2)):2==o&&(t.push(String.fromCharCode(e(n|i>>6),e(63&i))),n=o=0)}return 1==o?t.push(String.fromCharCode(e(n),61,61)):2==o&&t.push(String.fromCharCode(e(n),61)),t.join("")}),"undefined"==typeof atob&&(ts.pxtc.decodeBase64=function(r){function e(r){return 47==r?63:43==r?62:r<=57?r+4:r<=90?r-65:r-71}function t(r,e,t){for(var o=0,n=0;n<=r-e;n++)o=1+(o<<1);return t>>e&o}for(var o=new Array,n=!0,a=!1,i=!1,p=!1,f=!1,u=!1,d=0,h=new RegExp("^([A-Za-z0-9+/=])$"),s=0;s<r.length;s++){var c=r.charCodeAt(s);if(!String.fromCharCode(c).match(h)||61==c&&(n||a)||61==c&&0!=d||61!=c&&f||u)return;n?(d=e(c)<<2,u=f=p=i=!(a=!(n=!1))):a?(o.push(String.fromCharCode(d|t(5,4,e(c)))),d=(15&e(c))<<4,u=f=p=!(i=!(a=n=!1))):i?61==c?(d=0,u=!(f=!(p=i=a=n=!1))):(o.push(String.fromCharCode(d|t(5,2,e(c)))),d=(3&e(c))<<6,u=f=!(p=!(i=a=n=!1))):p?61==c?(d=0,u=!(f=p=i=a=n=!1)):(o.push(String.fromCharCode(d|e(c))),u=f=p=i=a=!(n=!(d=0))):f&&(d=0,u=!(f=p=i=a=n=!1))}if(n||u)return o.join("")}),Uint8Array.prototype.slice||Object.defineProperty(Uint8Array.prototype,"slice",{value:Array.prototype.slice,writable:!0,enumerable:!0}),Uint8Array.prototype.fill||Object.defineProperty(Uint8Array.prototype,"fill",{writable:!0,enumerable:!0,value:function(r){if(null==this)throw new TypeError("this is null or not defined");for(var e=Object(this),t=e.length>>>0,o=arguments[1]>>0,n=o<0?Math.max(t+o,0):Math.min(o,t),a=arguments[2],i=void 0===a?t:a>>0,p=i<0?Math.max(t+i,0):Math.min(i,t);n<p;)e[n]=r,n++;return e}}),onmessage=function(r){var e=pxtc.service.performOperation(r.data.op,r.data.arg);pm({op:r.data.op,id:r.data.id,result:JSON.parse(JSON.stringify(e))})},pm({id:"ready"});